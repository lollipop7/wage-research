$("document").ready(function(){bundle.init();var n=document.getElementById("audios");n.addEventListener("canplaythrough",function(){n.play(),$(".music-icon").addClass("active")},!1),$(".control").on("click",function(){n.paused?(n.play(),$(this).find(".music-icon").addClass("active")):(n.pause(),$(this).find(".music-icon").removeClass("active"))})});var bundle={init:function(){this.setContainerHeight(),this.preloadImage()},setContainerHeight:function(){$(".swiper-container").css({height:$(window).height()})},initSwiper:function(){var n,i,e=new Swiper(".swiper-container",{direction:"vertical",hashnav:!0,prevButton:".prev-page",nextButton:".next-page",autoHeight:!0,observer:!0,observeParents:!0,onInit:function(n){swiperAnimateCache(n),swiperAnimate(n)},onSlideChangeEnd:function(n){swiperAnimate(n)},longSwipesMs:1e3,watchSlidesProgress:!0,onInit:function(n){n.myactive=0},onProgress:function(n){for(var i=0;i<n.slides.length;i++){var e,t=n.slides[i],s=t.progress;e=s*n.height*.8,scale=1-Math.min(Math.abs(.2*s),1),boxShadowOpacity=0,t.style.boxShadow="0px 0px 10px rgba(0,0,0,"+boxShadowOpacity+")",i==n.myactive?(es=t.style,es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform="translate3d(0,"+e+"px,0) scale("+scale+")",es.zIndex=0):(es=t.style,es.webkitTransform=es.MsTransform=es.msTransform=es.MozTransform=es.OTransform=es.transform="",es.zIndex=1)}},onTransitionEnd:function(n){n.myactive=n.activeIndex,swiperAnimate(n)},onSetTransition:function(n,i){for(var e=0;e<n.slides.length;e++)es=n.slides[e].style,es.webkitTransitionDuration=es.MsTransitionDuration=es.msTransitionDuration=es.MozTransitionDuration=es.OTransitionDuration=es.transitionDuration=i+"ms"}});e.slides.on("touchstart",function(e){n=this.scrollTop,i=e.targetTouches[0].pageY},!0),e.slides.on("touchmove",function(e){var t=e.targetTouches[0].pageY-i;this.scrollHeight>this.offsetHeight&&(t<0&&0===n||t>0&&n===this.scrollHeight-this.offsetHeight||n>0&&n<this.scrollHeight-this.offsetHeight)&&e.stopPropagation()},!0)},preloadImage:function(){var n=[],i=/http:\/\/(\w|\W){1,}.(png|gif|jpg)/g;$(".preload").each(function(e,t){var s=$(t).css("background-image");n.push(s.match(i)[0])}),$("img").each(function(i,e){n.push(e.src)});var e=n.length,t=0,s=this.loadedAllImg.bind(this),a=this.loadImgProgress.bind(this);$.each(n,function(n,i){var o=new Image;o.src=i,o.complete?(a(++t,e),e==t&&s()):o.onload=function(){a(++t,e),e==t&&s()}})},loadImgProgress:function(n,i){$(".loading-container .number").text(Math.floor(n/i*100)+"%")},loadedAllImg:function(){this.loadImgProgress(1,1),setTimeout(function(){$(".loading-container").css({display:"none"}),$(".wrapper").css({display:"block"}),this.initSwiper()}.bind(this),200)},openShareModal:function(){$(".share_modal").css({opacity:1});var n=$(".share-modal-wrap");setTimeout(function(){$(n).find(".curve").addClass("animated fadeInUp")},100),setTimeout(function(){$(n).find(".step1").addClass("animated fadeInUp")},200),setTimeout(function(){$(n).find(".step2").addClass("animated fadeInUp")},300),setTimeout(function(){$(n).find(".succ").addClass("animated fadeInUp")},400),setTimeout(function(){$(n).find(".hint").addClass("animated fadeInUp")},500),setTimeout(function(){$(n).find(".iknow").addClass("animated fadeInUp")},600)},closeShareModal:function(){$(".share_modal").css({opacity:0})},openDialog:function(n){$(".dialog-container").css({opacity:1}),$(".dialog").css({width:"9.375rem"}),$(".dialog_bd").text(n),$(".dialog").addClass("active")},closeDialog:function(){$(".dialog-container").css({opacity:0}),$(".dialog").css({width:0}),$(".dialog").removeClass("active")},getMonths:function(){var n,i=$("#ques9").find("input[name='months']:checked");return"其它"!=(n=$(i).val())&&"其他"!=n||(n=$(i).siblings(".nair-text-input").val()+"个月"),n},getOthermonths:function(){var n,i=$("#ques10").find("input[name='othermonths']:checked");return"其它"!=(n=$(i).val())&&"其他"!=n||(n=$(i).siblings(".nair-text-input").val()+"个月"),n},setChecked:function(n){$(n).siblings(".nair-radio-input").attr("checked",!0),this.addClassActive(n)},addClassActive:function(n){$(n).siblings(".nair-radio-inner").addClass("active"),$(n).parents("label").siblings("label").children(".nair-radio-inner").removeClass("active")}};